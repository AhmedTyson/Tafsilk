@{
    ViewData["Title"] = "تفصيلك - أمهر الخياطين في منطقتك | منصة تفصيلك";
    ViewData["Description"] = "اكتشف أمهر الخياطين في منطقتك بأسعار شفافة وجودة موثوقة. تصفح أعمالهم، اقرأ التقييمات، واحجز موعدك بسهولة.";
    ViewData["Keywords"] = "خياطين، تفصيل، ملابس، خياطة، تعديل ملابس، فساتين، بدل رجالي";
}

@section Meta {
<!-- SEO Meta Tags -->
    <meta name="description" content="@ViewData["Description"]" />
    <meta name="keywords" content="@ViewData["Keywords"]" />
  <meta name="author" content="تفصيلك" />
    <meta name="robots" content="index, follow" />
    
    <!-- Open Graph Meta Tags -->
    <meta property="og:title" content="@ViewData["Title"]" />
    <meta property="og:description" content="@ViewData["Description"]" />
    <meta property="og:type" content="website" />
    <meta property="og:url" content="@($"{Context.Request.Scheme}://{Context.Request.Host}{Context.Request.Path}")" />
    <meta property="og:image" content="~/images/og-image.jpg" />
    
    <!-- Twitter Card Meta Tags -->
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content="@ViewData["Title"]" />
    <meta name="twitter:description" content="@ViewData["Description"]" />
    <meta name="twitter:image" content="~/images/twitter-card.jpg" />
    
    <!-- Canonical URL -->
    <link rel="canonical" href="@($"{Context.Request.Scheme}://{Context.Request.Host}{Context.Request.Path}")" />
}

@section Styles {
    <style>
        /* ========== HERO SECTION ========== */
        .hero {
         position: relative;
            min-height: 75vh;
      display: flex;
     align-items: center;
            overflow: hidden;
       background: linear-gradient(135deg, #0f172a 0%, #1e293b 100%);
     }

        .hero-video {
    position: absolute;
            inset: 0;
   width: 100%;
      height: 100%;
     object-fit: cover;
        object-position: center;
      z-index: 0;
  background: #0f172a;
        opacity: 0;
    transition: opacity 0.8s ease-in;
        }

  .hero-video.loaded {
            opacity: 1;
        }

        /* Animated gradient fallback */
    .hero-video-fallback {
            position: absolute;
            inset: 0;
  display: flex;
   align-items: center;
justify-content: center;
        padding: 24px;
     text-align: center;
background: linear-gradient(135deg, #0f172a 0%, #1e293b 50%, #0f172a 100%);
            background-size: 200% 200%;
      animation: gradientShift 8s ease infinite;
            color: rgba(255, 255, 255, 0.9);
            font-size: clamp(18px, 3vw, 32px);
            font-weight: 700;
        line-height: 1.5;
      z-index: 0;
}

        @@keyframes gradientShift {
         0%, 100% { background-position: 0% 50%; }
        50% { background-position: 100% 50%; }
  }

    .hero-overlay {
            position: absolute;
            inset: 0;
      background: linear-gradient(135deg, rgba(15, 23, 42, 0.75), rgba(30, 41, 59, 0.80));
  z-index: 1;
  pointer-events: none;
        }

    .hero-content {
          position: relative;
            z-index: 2;
         animation: fadeInUp 1s ease-out;
}

        @@keyframes fadeInUp {
            from {
   opacity: 0;
                transform: translateY(30px);
            }
    to {
    opacity: 1;
   transform: translateY(0);
       }
      }

.hero-title {
        color: #ffffff;
            font-size: clamp(1.75rem, 5vw, 3.5rem);
          margin-bottom: var(--spacing-lg);
         text-shadow: 0 2px 8px rgba(0, 0, 0, 0.3);
       line-height: 1.2;
      }

        .hero-subtitle {
      color: rgba(255, 255, 255, 0.95);
  font-size: clamp(1rem, 2.5vw, 1.375rem);
            margin-bottom: var(--spacing-2xl);
 line-height: 1.6;
        }

     /* ========== SEARCH WIDGET ========== */
 .search-center {
            margin-top: var(--spacing-2xl);
        }

        .search-widget {
            background: rgba(255, 255, 255, 0.97);
     backdrop-filter: blur(12px);
  border-radius: var(--radius-xl);
        padding: 24px;
      box-shadow: 0 20px 40px rgba(0, 0, 0, 0.2);
   max-width: 650px;
            margin: 0 auto;
 animation: slideInUp 0.6s ease-out 0.3s both;
        }

        @@keyframes slideInUp {
            from {
  opacity: 0;
 transform: translateY(20px);
     }
         to {
   opacity: 1;
                transform: translateY(0);
            }
        }

        .search-input-group {
  display: flex;
  gap: 10px;
            margin-bottom: 16px;
     }

        .search-input {
            flex: 1;
   padding: 14px 18px;
       border: 2px solid var(--border-color);
      border-radius: var(--radius-lg);
          font-size: 16px;
     font-family: var(--font-family);
    transition: all 0.3s ease;
      }

.search-input:focus {
        outline: none;
    border-color: var(--primary-color);
  box-shadow: 0 0 0 4px rgba(44, 90, 160, 0.1);
     transform: translateY(-1px);
        }

        .search-btn {
         padding: 14px 28px;
            white-space: nowrap;
        }

        .search-options {
          display: flex;
        gap: 12px;
   justify-content: center;
flex-wrap: wrap;
       font-size: 14px;
 }

        .search-chip {
            color: rgba(15, 23, 42, 0.75);
  display: flex;
        align-items: center;
   gap: 6px;
      padding: 8px 14px;
   background: var(--background-gray);
   border: 1px solid var(--border-color);
            border-radius: 999px;
        font-size: 13px;
            cursor: pointer;
 transition: all 0.2s ease;
      }

        .search-chip:hover {
     background: var(--border-color);
            transform: translateY(-1px);
     }

        .search-chip input[type="checkbox"] {
margin: 0;
        }

        /* ========== TRUST BAR ========== */
        .trust-bar {
       background-color: var(--dark);
          color: white;
            text-align: center;
            padding: 32px 0;
            animation: fadeIn 1s ease-out 0.5s both;
        }

    @@keyframes fadeIn {
    from { opacity: 0; }
   to { opacity: 1; }
     }

   .trust-indicators {
          display: flex;
            justify-content: center;
            gap: 48px;
            flex-wrap: wrap;
        }

        .trust-item {
   display: flex;
        flex-direction: column;
            align-items: center;
            gap: 6px;
        }

        .trust-number {
   font-size: var(--font-size-3xl);
  font-weight: 800;
            color: var(--text-white);
            background: linear-gradient(135deg, #ffffff, #e0e0e0);
     -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
            background-clip: text;
        }

   .trust-label {
      font-size: var(--font-size-sm);
            color: rgba(255, 255, 255, 0.8);
     max-width: 200px;
      }

        /* ========== SECTION COMMON STYLES ========== */
        .value-props,
  .featured-tailors,
  .tailor-recruitment {
            padding: var(--spacing-4xl) 0;
        }

        .how-it-works,
    .service-categories {
      background-color: var(--background-gray);
       padding: var(--spacing-4xl) 0;
        }

        .section-title {
            text-align: center;
   font-size: clamp(1.75rem, 4vw, 2.5rem);
        font-weight: 700;
      margin-bottom: var(--spacing-sm);
            color: var(--text-primary);
     }

        .section-subtitle {
            color: var(--text-secondary);
          font-size: clamp(0.95rem, 2vw, 1.125rem);
text-align: center;
       margin-bottom: var(--spacing-2xl);
            max-width: 700px;
            margin-left: auto;
            margin-right: auto;
        }

        /* ========== VALUE PROPOSITIONS ========== */
   .props-grid {
   display: grid;
            grid-template-columns: 1fr;
            gap: var(--spacing-xl);
        }

  @@media (min-width: 768px) {
     .props-grid {
                grid-template-columns: repeat(3, 1fr);
    }
        }

        .prop-card {
            padding: var(--spacing-xl);
            border-radius: var(--radius-lg);
       background-color: var(--background-white);
            box-shadow: var(--shadow-sm);
  transition: all 0.3s ease;
         display: flex;
          align-items: flex-start;
      gap: 18px;
     border: 1px solid transparent;
        }

 .prop-card:hover {
         transform: translateY(-6px);
            box-shadow: var(--shadow-xl);
            border-color: var(--primary-color);
    }

        .prop-icon {
         width: 56px;
        height: 56px;
        display: flex;
 align-items: center;
     justify-content: center;
     border-radius: 14px;
            font-size: 22px;
      flex-shrink: 0;
  transition: transform 0.3s ease;
        }

        .prop-card:hover .prop-icon {
 transform: scale(1.1) rotate(5deg);
        }

        .prop-icon.price {
 background: linear-gradient(135deg, #e3f2fd, #bbdefb);
 color: var(--primary-color);
 }

        .prop-icon.quality {
            background: linear-gradient(135deg, #e8f5e9, #c8e6c9);
       color: var(--success-color);
        }

        .prop-icon.location {
            background: linear-gradient(135deg, #fff3e0, #ffe0b2);
            color: var(--secondary-color);
        }

    .prop-content {
  text-align: right;
        flex: 1;
        }

        .prop-title {
        font-size: var(--font-size-xl);
            font-weight: 700;
    margin-bottom: var(--spacing-sm);
          color: var(--text-primary);
        }

    .prop-desc {
            color: var(--text-secondary);
        margin: 0;
            line-height: 1.6;
        }

   /* ========== HOW IT WORKS ========== */
        .steps-grid {
      display: grid;
            grid-template-columns: 1fr;
 gap: var(--spacing-xl);
     }

        @@media (min-width: 768px) {
     .steps-grid {
                grid-template-columns: repeat(3, 1fr);
      }
   }

        .step-card {
       background: var(--background-white);
            border: 2px solid var(--border-color);
 border-radius: var(--radius-lg);
            padding: 28px;
        text-align: center;
            transition: all 0.3s ease;
            position: relative;
   overflow: hidden;
        }

        .step-card::before {
        content: '';
          position: absolute;
  top: 0;
   left: 0;
          right: 0;
            height: 4px;
        background: linear-gradient(90deg, var(--primary-color), var(--secondary-color));
       transform: scaleX(0);
       transition: transform 0.3s ease;
        }

        .step-card:hover::before {
       transform: scaleX(1);
        }

        .step-card:hover {
            border-color: var(--primary-color);
    transform: translateY(-4px);
          box-shadow: var(--shadow-lg);
        }

        .step-number {
            width: 70px;
            height: 70px;
   background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
         color: var(--text-white);
     border-radius: 50%;
            display: flex;
      align-items: center;
    justify-content: center;
  font-size: 1.75rem;
 font-weight: 800;
margin: 0 auto var(--spacing-lg);
       box-shadow: 0 4px 12px rgba(44, 90, 160, 0.3);
    transition: transform 0.3s ease;
}

     .step-card:hover .step-number {
  transform: scale(1.1) rotate(10deg);
    }

        .step-title {
    font-size: var(--font-size-xl);
            font-weight: 700;
            margin-bottom: var(--spacing-md);
    color: var(--text-primary);
   }

  .step-desc {
            color: var(--text-secondary);
    margin: 0;
            line-height: 1.7;
        }

  /* ========== FEATURED TAILORS CAROUSEL ========== */
        .carousel-container {
            position: relative;
            padding: 0 50px;
        }

        .carousel-nav {
            position: absolute;
         top: 50%;
          transform: translateY(-50%);
            background: var(--background-white);
       border: 2px solid var(--border-color);
            border-radius: 50%;
     width: 44px;
   height: 44px;
            display: flex;
            align-items: center;
    justify-content: center;
            cursor: pointer;
       transition: all 0.3s ease;
       z-index: 10;
     box-shadow: var(--shadow-md);
        }

    .carousel-nav:hover {
            background: var(--primary-color);
            color: white;
   border-color: var(--primary-color);
     transform: translateY(-50%) scale(1.1);
        }

        .carousel-nav.prev {
            right: 0;
        }

      .carousel-nav.next {
       left: 0;
        }

        .tailors-carousel {
   display: flex;
          gap: 24px;
   overflow-x: auto;
    scroll-behavior: smooth;
            padding: 10px 0 20px;
  scrollbar-width: thin;
     scrollbar-color: var(--primary-color) var(--background-gray);
        }

        .tailors-carousel::-webkit-scrollbar {
         height: 8px;
  }

        .tailors-carousel::-webkit-scrollbar-track {
  background: var(--background-gray);
            border-radius: 4px;
  }

        .tailors-carousel::-webkit-scrollbar-thumb {
        background: var(--primary-color);
       border-radius: 4px;
     }

        /* Skeleton loader for tailor cards */
        .tailor-card.skeleton {
            animation: pulse 1.5s ease-in-out infinite;
}

        @@keyframes pulse {
          0%, 100% { opacity: 1; }
50% { opacity: 0.5; }
        }

   .tailor-card {
   min-width: 300px;
 background: var(--background-white);
       border: 1px solid var(--border-color);
            border-radius: var(--radius-lg);
            overflow: hidden;
            transition: all 0.3s ease;
     cursor: pointer;
        }

   .tailor-card:hover {
      transform: translateY(-6px);
  box-shadow: var(--shadow-xl);
    border-color: var(--primary-color);
        }

        .tailor-image {
  width: 100%;
   height: 180px;
            object-fit: cover;
            background: linear-gradient(135deg, #f1f5f9, #e2e8f0);
            transition: transform 0.3s ease;
      loading: lazy;
        }

        .tailor-card:hover .tailor-image {
         transform: scale(1.05);
        }

   .tailor-info {
       padding: var(--spacing-lg);
        }

        .tailor-name-row {
     display: flex;
            align-items: center;
          gap: var(--spacing-sm);
            margin-bottom: var(--spacing-sm);
    }

        .tailor-name {
   font-size: var(--font-size-lg);
       font-weight: 700;
        margin: 0;
            flex: 1;
    color: var(--text-primary);
      }

    .verified-badge {
   background-color: var(--success-color);
            color: var(--text-white);
            padding: 4px 10px;
       border-radius: var(--radius-sm);
            font-size: 0.75rem;
            font-weight: 600;
     display: flex;
     align-items: center;
            gap: 4px;
        }

      .tailor-rating {
  display: flex;
       align-items: center;
 gap: var(--spacing-sm);
        margin-bottom: var(--spacing-sm);
        }

 .rating {
            color: var(--secondary-color);
            font-weight: 600;
 display: flex;
            align-items: center;
gap: 4px;
   }

        .reviews {
         color: var(--text-secondary);
            font-size: var(--font-size-sm);
        }

        .tailor-specialty,
        .tailor-location {
    color: var(--text-secondary);
       font-size: var(--font-size-sm);
     margin: var(--spacing-xs) 0;
        display: flex;
   align-items: center;
            gap: 6px;
     }

     .tailor-card .btn {
   width: 100%;
   margin-top: var(--spacing-md);
        }

        /* ========== SERVICE CATEGORIES ========== */
     .categories-grid {
            display: grid;
    gap: 18px;
    grid-template-columns: repeat(auto-fit, minmax(160px, 1fr));
  }

        @@media (min-width: 768px) {
     .categories-grid {
    grid-template-columns: repeat(5, 1fr);
      }
    }

        .category-card {
          background-color: var(--background-white);
            padding: 24px;
       border-radius: var(--radius-lg);
         text-align: center;
       box-shadow: var(--shadow-sm);
  transition: all 0.3s ease;
            cursor: pointer;
     border: 2px solid transparent;
     }

        .category-card:hover {
  background: var(--primary-light);
  transform: translateY(-4px);
          box-shadow: var(--shadow-lg);
        border-color: var(--primary-color);
        }

 .category-icon {
            width: 60px;
      height: 60px;
            margin: 0 auto var(--spacing-md);
    display: flex;
         align-items: center;
            justify-content: center;
            background: var(--background-light);
         border-radius: var(--radius-lg);
            font-size: 28px;
            color: var(--primary-color);
         transition: all 0.3s ease;
  }

        .category-card:hover .category-icon {
     background: var(--primary-color);
    color: white;
       transform: scale(1.1) rotate(5deg);
        }

        .category-title {
            font-size: var(--font-size-base);
   font-weight: 700;
            margin-bottom: 6px;
            color: var(--text-primary);
      }

        .service-description {
      color: var(--text-secondary);
            font-size: 0.85rem;
            line-height: 1.5;
    }

        /* ========== TAILOR RECRUITMENT ========== */
        .recruitment-content {
 background: linear-gradient(135deg, var(--primary-color) 0%, var(--secondary-color) 100%);
            color: white;
            border-radius: var(--radius-xl);
 padding: 48px 32px;
     text-align: center;
  position: relative;
overflow: hidden;
  }

        .recruitment-content::before {
            content: '';
         position: absolute;
    top: -50%;
     left: -50%;
       width: 200%;
 height: 200%;
      background: radial-gradient(circle, rgba(255,255,255,0.1) 0%, transparent 70%);
            animation: rotate 20s linear infinite;
        }

   @@keyframes rotate {
    from { transform: rotate(0deg); }
       to { transform: rotate(360deg); }
 }

        .recruitment-content > * {
 position: relative;
            z-index: 1;
        }

        .recruitment-content .section-title {
            color: white;
       max-width: 800px;
   margin: 0 auto var(--spacing-xl);
  text-shadow: 0 2px 8px rgba(0,0,0,0.2);
        }

      .join-benefits {
       display: flex;
            gap: 14px;
flex-wrap: wrap;
         justify-content: center;
            margin-bottom: 28px;
        }

        .benefit-pill {
    background: rgba(255, 255, 255, 0.2);
        backdrop-filter: blur(10px);
            color: white;
  padding: 10px 20px;
     border-radius: 999px;
      font-size: 0.95rem;
          font-weight: 600;
            display: flex;
       align-items: center;
            gap: 8px;
            transition: all 0.3s ease;
border: 1px solid rgba(255, 255, 255, 0.3);
  }

        .benefit-pill:hover {
background: rgba(255, 255, 255, 0.3);
      transform: translateY(-2px);
        }

   .btn-dark {
            background: var(--dark);
            color: white;
     padding: 16px 40px;
  border-radius: var(--radius-lg);
     font-weight: 700;
            font-size: 1.125rem;
       text-decoration: none;
display: inline-flex;
   align-items: center;
            gap: 10px;
        transition: all 0.3s ease;
            box-shadow: 0 6px 20px rgba(0,0,0,0.3);
  }

     .btn-dark:hover {
            background: #1e293b;
            transform: translateY(-3px);
     box-shadow: 0 10px 30px rgba(0,0,0,0.4);
    color: white;
        }

        /* ========== MOBILE OPTIMIZATIONS ========== */
        @@media (max-width: 767px) {
            .hero {
                min-height: 60vh;
            }

     .hero-title {
   font-size: 1.75rem;
            }

  .hero-subtitle {
    font-size: 1rem;
     }

   .search-widget {
     padding: 18px;
   }

            .search-input-group {
  flex-direction: column;
      }

            .search-btn {
    width: 100%;
     }

 .trust-indicators {
        gap: 24px;
         }

        .carousel-container {
       padding: 0 10px;
     }

   .carousel-nav {
  width: 38px;
       height: 38px;
            }

            .tailor-card {
           min-width: 260px;
            }

            .categories-grid {
     grid-template-columns: repeat(2, 1fr);
  }

        .recruitment-content {
   padding: 32px 20px;
            }

         .btn-dark {
     padding: 14px 32px;
      font-size: 1rem;
            }
      }

      /* ========== ACCESSIBILITY IMPROVEMENTS ========== */
        .sr-only {
   position: absolute;
            width: 1px;
         height: 1px;
            padding: 0;
    margin: -1px;
            overflow: hidden;
            clip: rect(0, 0, 0, 0);
            white-space: nowrap;
          border-width: 0;
        }

        /* Focus states for keyboard navigation */
    *:focus-visible {
 outline: 3px solid var(--primary-color);
  outline-offset: 2px;
   }

      /* Prefers reduced motion */
  @@media (prefers-reduced-motion: reduce) {
    *,
       *::before,
            *::after {
  animation-duration: 0.01ms !important;
     animation-iteration-count: 1 !important;
         transition-duration: 0.01ms !important;
            }
        }
    </style>
}

<main role="main">
    <!-- Hero Section with Video Background -->
    <section id="home" class="hero" aria-labelledby="hero-title">
        <video class="hero-video" 
               id="heroVideo" 
       autoplay 
           muted 
               loop 
           playsinline 
    preload="metadata"
               poster="~/images/hero-poster.jpg"
               aria-hidden="true">
 <source src="~/video.mp4" type="video/mp4" />
    <p class="sr-only">متصفحك لا يدعم تشغيل الفيديو</p>
  </video>
        
      <div class="hero-video-fallback" id="heroVideoFallback" style="display: none" aria-hidden="true">
        <div class="fallback-content">
          <i class="fas fa-cut fa-3x" aria-hidden="true"></i>
     <h2>تفصيلك – اكتشف أمهر الخياطين بسهولة</h2>
    <p>منصة رقمية تربطك بأمهر الخياطين في منطقتك</p>
      </div>
  </div>
        
        <div class="hero-overlay" aria-hidden="true"></div>

  <div class="container">
            <div class="hero-content">
      <h1 id="hero-title" class="hero-title">أمهر الخياطين في منطقتك. موثوقين وبأسعار شفافة</h1>
          <p class="hero-subtitle">تصفح أعمالهم، اعرف الأسعار، واحجز موعدك في دقائق</p>

  <!-- Search Widget -->
                <div class="search-center">
         <div class="search-widget" role="search">
       <form class="search-form" 
     asp-controller="Tailors" 
 asp-action="Search" 
        method="get"
          aria-label="البحث عن خياطين">
        <div class="search-input-group">
            <label for="searchQuery" class="sr-only">ابحث عن خياط قريب منك</label>
          <input type="text" 
  id="searchQuery"
  name="query" 
  class="search-input" 
         placeholder="ابحث عن خياط في منطقتك..."
    aria-label="البحث عن خياط"
                  autocomplete="off" />
                <button type="submit" class="btn btn-primary search-btn" aria-label="بحث">
       <i class="fas fa-search" aria-hidden="true"></i>
        <span>ابحث</span>
          </button>
    </div>

      <div class="search-options" role="group" aria-label="خيارات البحث">
  <label class="search-chip">
           <input type="checkbox" 
  name="express" 
     value="true"
            aria-label="خدمة عاجلة" />
            <i class="fas fa-clock" aria-hidden="true"></i>
          <span>خدمة عاجلة (اليوم/غدًا)</span>
     </label>
     <div class="search-chip" aria-label="النطاق الافتراضي 5 كيلومتر">
         <i class="fas fa-map-marker-alt" aria-hidden="true"></i>
         <span>نطاق: 5 كم</span>
     </div>
    </div>
          </form>
           </div>
          </div>
 </div>
        </div>
    </section>

    <!-- Trust Indicators -->
    <section class="trust-bar" aria-labelledby="trust-title">
    <h2 id="trust-title" class="sr-only">إحصائيات المنصة</h2>
    <div class="container">
       <div class="trust-indicators">
     <div class="trust-item">
             <span class="trust-number" aria-label="أكثر من 300">300+</span>
         <span class="trust-label">خياط موثق</span>
      </div>
 <div class="trust-item">
  <span class="trust-number" aria-label="أكثر من 5000">5,000+</span>
           <span class="trust-label">طلب مكتمل</span>
                </div>
           <div class="trust-item">
 <span class="trust-number">3</span>
    <span class="trust-label">مدن<br />القاهرة، الجيزة، والإسكندرية</span>
      </div>
    </div>
        </div>
    </section>

    <!-- Value Propositions -->
    <section class="value-props" aria-labelledby="value-props-title">
        <div class="container">
         <h2 id="value-props-title" class="section-title">لماذا تفصيلك؟</h2>
       <div class="props-grid">
    <article class="prop-card">
         <div class="prop-icon price" aria-hidden="true">
      <i class="fas fa-money-bill-wave fa-2x"></i>
          </div>
        <div class="prop-content">
        <h3 class="prop-title">أسعار شفافة</h3>
 <p class="prop-desc">اعرف تكلفة الخدمة قبل الحجز مع عدم وجود رسوم مخفية</p>
   </div>
     </article>

           <article class="prop-card">
   <div class="prop-icon quality" aria-hidden="true">
     <i class="fas fa-shield-alt fa-2x"></i>
      </div>
           <div class="prop-content">
      <h3 class="prop-title">جودة موثوقة</h3>
      <p class="prop-desc">شاهد معرض أعمالهم واقرأ تقييمات من عملاء حقيقيين</p>
                  </div>
    </article>

           <article class="prop-card">
        <div class="prop-icon location" aria-hidden="true">
        <i class="fas fa-map-marker-alt fa-2x"></i>
     </div>
   <div class="prop-content">
        <h3 class="prop-title">خياطين في كل مكان</h3>
        <p class="prop-desc">اكتشف أمهر الخياطين في منطقتك بسهولة وسرعة</p>
           </div>
    </article>
     </div>
        </div>
    </section>

    <!-- How It Works -->
  <section id="how-it-works" class="how-it-works" aria-labelledby="how-it-works-title">
    <div class="container">
     <h2 id="how-it-works-title" class="section-title">كيف تعمل المنصة؟</h2>
            <p class="section-subtitle">ثلاث خطوات بسيطة للحصول على أفضل خدمات الخياطة</p>
  <div class="steps-grid">
   <article class="step-card">
            <div class="step-number" aria-label="الخطوة 1">1</div>
     <h3 class="step-title">ابحث واختر</h3>
   <p class="step-desc">حدد منطقتك ونوع الخدمة التي تحتاجها، وتصفح الخياطين المتاحين</p>
           </article>

       <article class="step-card">
<div class="step-number" aria-label="الخطوة 2">2</div>
                    <h3 class="step-title">قارن واحجز</h3>
  <p class="step-desc">شاهد صور الأعمال، قارن الأسعار والتقييمات، ثم احجز موعدك</p>
 </article>

     <article class="step-card">
         <div class="step-number" aria-label="الخطوة 3">3</div>
      <h3 class="step-title">تابع واستلم</h3>
     <p class="step-desc">تابع حالة طلبك واستلم عملك في الموعد المحدد</p>
           </article>
      </div>
   </div>
    </section>

    <!-- Featured Tailors -->
    <section id="tailors" class="featured-tailors" aria-labelledby="featured-tailors-title">
 <div class="container">
         <h2 id="featured-tailors-title" class="section-title">تعرف على أمهر الخياطين في منطقتك</h2>
  <div class="carousel-container">
          <button class="carousel-nav prev" 
      aria-label="السابق" 
     onclick="scrollCarousel('prev')">
<i class="fas fa-chevron-right" aria-hidden="true"></i>
    </button>
           <div class="tailors-carousel" id="tailorsCarousel" role="region" aria-label="قائمة الخياطين المميزين">
            <!-- Tailor cards will be loaded here -->
         <article class="tailor-card">
    <img src="https://placehold.co/400x300/e3f2fd/2c5aa0?text=خياط+محترف" 
 alt="صورة أستاذ محمد أحمد" 
          class="tailor-image" 
         loading="lazy" />
          <div class="tailor-info">
          <div class="tailor-name-row">
   <h3 class="tailor-name">أستاذ محمد أحمد</h3>
        <span class="verified-badge" aria-label="موثق">
       <i class="fas fa-check-circle" aria-hidden="true"></i>
                 <span>موثق</span>
         </span>
 </div>
    <div class="tailor-rating">
      <span class="rating" aria-label="التقييم 4.8 من 5">
       <i class="fas fa-star" aria-hidden="true"></i> 4.8
   </span>
   <span class="reviews">(120 تقييم)</span>
         </div>
      <p class="tailor-specialty">
              <i class="fas fa-tshirt" aria-hidden="true"></i> فساتين سهرة
              </p>
   <p class="tailor-location">
      <i class="fas fa-map-marker-alt" aria-hidden="true"></i> مصر الجديدة
  </p>
              <a href="#" class="btn btn-primary" aria-label="عرض ملف أستاذ محمد أحمد">
  عرض الملف الشخصي
          </a>
                 </div>
      </article>

   <article class="tailor-card">
          <img src="https://placehold.co/400x300/e3f2fd/2c5aa0?text=خياطة+محترفة" 
                    alt="صورة أستاذة فاطمة علي" 
          class="tailor-image" 
loading="lazy" />
             <div class="tailor-info">
      <div class="tailor-name-row">
     <h3 class="tailor-name">أستاذة فاطمة علي</h3>
         <span class="verified-badge" aria-label="موثقة">
           <i class="fas fa-check-circle" aria-hidden="true"></i>
          <span>موثق</span>
   </span>
       </div>
             <div class="tailor-rating">
      <span class="rating" aria-label="التقييم 4.9 من 5">
        <i class="fas fa-star" aria-hidden="true"></i> 4.9
    </span>
         <span class="reviews">(89 تقييم)</span>
</div>
     <p class="tailor-specialty">
       <i class="fas fa-user-tie" aria-hidden="true"></i> بدل رجالي
              </p>
          <p class="tailor-location">
        <i class="fas fa-map-marker-alt" aria-hidden="true"></i> المعادي
              </p>
         <a href="#" class="btn btn-primary" aria-label="عرض ملف أستاذة فاطمة علي">
   عرض الملف الشخصي
    </a>
    </div>
                    </article>

         <article class="tailor-card">
      <img src="https://placehold.co/400x300/e3f2fd/2c5aa0?text=خياط+محترف" 
         alt="صورة أستاذ أحمد حسن" 
       class="tailor-image" 
        loading="lazy" />
     <div class="tailor-info">
    <div class="tailor-name-row">
             <h3 class="tailor-name">أستاذ أحمد حسن</h3>
         <span class="verified-badge" aria-label="موثق">
         <i class="fas fa-check-circle" aria-hidden="true"></i>
            <span>موثق</span>
     </span>
          </div>
      <div class="tailor-rating">
   <span class="rating" aria-label="التقييم 4.9 من 5">
  <i class="fas fa-star" aria-hidden="true"></i> 4.9
      </span>
       <span class="reviews">(156 تقييم)</span>
              </div>
      <p class="tailor-specialty">
      <i class="fas fa-tools" aria-hidden="true"></i> تعديل ملابس
        </p>
<p class="tailor-location">
         <i class="fas fa-map-marker-alt" aria-hidden="true"></i> الزمالك
       </p>
          <a href="#" class="btn btn-primary" aria-label="عرض ملف أستاذ أحمد حسن">
         عرض الملف الشخصي
 </a>
     </div>
          </article>
            </div>
     <button class="carousel-nav next" 
                 aria-label="التالي" 
       onclick="scrollCarousel('next')">
    <i class="fas fa-chevron-left" aria-hidden="true"></i>
        </button>
         </div>
        </div>
    </section>

    <!-- Service Categories -->
    <section class="service-categories" aria-labelledby="services-title">
        <div class="container">
       <h2 id="services-title" class="section-title">الخدمات الشائعة</h2>
         <p class="section-subtitle">اختر من بين خدماتنا المتعددة التي نقدمها بأعلى جودة وأفضل الأسعار</p>
      <div class="categories-grid">
       <a href="#" class="category-card" aria-label="تعديل ملابس">
          <div class="category-icon" aria-hidden="true">
     <i class="fas fa-tools fa-2x"></i>
  </div>
                <h3 class="category-title">تعديل ملابس</h3>
           <p class="service-description">تصليح وتعديل جميع أنواع الملابس</p>
     </a>

         <a href="#" class="category-card" aria-label="تفصيل فساتين">
     <div class="category-icon" aria-hidden="true">
         <i class="fas fa-tshirt fa-2x"></i>
       </div>
          <h3 class="category-title">تفصيل فساتين</h3>
          <p class="service-description">تفصيل فساتين السهرة والزفاف</p>
                </a>

                <a href="#" class="category-card" aria-label="بدل رجالي">
     <div class="category-icon" aria-hidden="true">
 <i class="fas fa-user-tie fa-2x"></i>
     </div>
 <h3 class="category-title">بدل رجالي</h3>
    <p class="service-description">تفصيل بدل بكافة المقاسات والأقمشة</p>
     </a>

         <a href="#" class="category-card" aria-label="ملابس أطفال">
           <div class="category-icon" aria-hidden="true">
<i class="fas fa-child fa-2x"></i>
     </div>
  <h3 class="category-title">ملابس أطفال</h3>
            <p class="service-description">تفصيل ملابس أطفال بتصاميم عصرية</p>
          </a>

      <a href="#" class="category-card" aria-label="تصليح وإصلاح">
               <div class="category-icon" aria-hidden="true">
           <i class="fas fa-wrench fa-2x"></i>
            </div>
      <h3 class="category-title">تصليح</h3>
   <p class="service-description">إصلاح وصيانة الملابس المتضررة</p>
  </a>
          </div>
        </div>
    </section>

    <!-- Tailor Recruitment -->
    <section class="tailor-recruitment" aria-labelledby="recruitment-title">
        <div class="container">
<div class="recruitment-content">
       <h2 id="recruitment-title" class="section-title">انضم لشبكة تفصيلك. كبّر شغلك ووصّل لعملاء أكثر</h2>
    <div class="join-benefits" role="list">
        <span class="benefit-pill" role="listitem">
    <i class="fas fa-users" aria-hidden="true"></i>
           <span>+50% عملاء أكثر</span>
               </span>
   <span class="benefit-pill" role="listitem">
          <i class="fas fa-calendar-alt" aria-hidden="true"></i>
     <span>إدارة سهلة للمواعيد</span>
       </span>
             <span class="benefit-pill" role="listitem">
            <i class="fas fa-portrait" aria-hidden="true"></i>
            <span>ملف أعمال احترافي</span>
          </span>
              </div>
        <div class="recruitment-cta">
  <a asp-controller="Account" 
            asp-action="Register" 
  class="btn-dark"
            aria-label="سجل ورشتك الآن">
     <i class="fas fa-plus-circle" aria-hidden="true"></i>
      <span>سجل ورشتك الآن</span>
         </a>
    </div>
          </div>
    </div>
    </section>
</main>

@section Scripts {
    <script>
        // ========== VIDEO HANDLER ==========
        document.addEventListener("DOMContentLoaded", function () {
      const video = document.getElementById('heroVideo');
            const fallback = document.getElementById('heroVideoFallback');
      let videoLoadTimeout;

            if (video && fallback) {
  // Show fallback if video doesn't load within 3 seconds
   videoLoadTimeout = setTimeout(function () {
  if (!video.classList.contains('loaded')) {
    console.log('Video timeout - showing fallback');
  video.style.display = 'none';
     fallback.style.display = 'flex';
             }
       }, 3000);

       video.addEventListener('loadeddata', function () {
clearTimeout(videoLoadTimeout);
     video.classList.add('loaded');
       console.log('Video loaded successfully');
          });

          video.addEventListener('error', function (e) {
      clearTimeout(videoLoadTimeout);
 console.error('Video error:', e);
      video.style.display = 'none';
       fallback.style.display = 'flex';
                });

                // Handle network issues
        video.addEventListener('stalled', function() {
        console.warn('Video stalled');
      });
     }
      });

        // ========== CAROUSEL NAVIGATION ==========
   function scrollCarousel(direction) {
      const carousel = document.getElementById('tailorsCarousel');
        if (!carousel) return;

            const scrollAmount = 320; // Card width + gap
            const currentScroll = carousel.scrollLeft;
      const targetScroll = direction === 'next' 
    ? currentScroll - scrollAmount 
        : currentScroll + scrollAmount;

       carousel.scrollTo({
       left: targetScroll,
   behavior: 'smooth'
      });
        }

        // ========== LAZY LOADING FOR IMAGES ==========
  if ('IntersectionObserver' in window) {
  const imageObserver = new IntersectionObserver((entries, observer) => {
     entries.forEach(entry => {
            if (entry.isIntersecting) {
    const img = entry.target;
   if (img.dataset.src) {
      img.src = img.dataset.src;
                  img.removeAttribute('data-src');
            }
          observer.unobserve(img);
           }
                });
        });

          document.querySelectorAll('img[loading="lazy"]').forEach(img => {
 imageObserver.observe(img);
            });
        }

        // ========== ANALYTICS TRACKING ==========
        // Track search submissions
        document.querySelector('.search-form')?.addEventListener('submit', function(e) {
            const query = document.getElementById('searchQuery')?.value;
            if (typeof gtag !== 'undefined') {
     gtag('event', 'search', {
 'search_term': query,
     'event_category': 'engagement'
    });
     }
            console.log('Search submitted:', query);
        });

        // Track category clicks
        document.querySelectorAll('.category-card').forEach(card => {
      card.addEventListener('click', function(e) {
        const category = this.querySelector('.category-title')?.textContent;
     if (typeof gtag !== 'undefined') {
            gtag('event', 'category_click', {
         'category_name': category,
          'event_category': 'engagement'
               });
    }
              console.log('Category clicked:', category);
        });
        });

        // Track tailor profile views
        document.querySelectorAll('.tailor-card .btn-primary').forEach(btn => {
   btn.addEventListener('click', function(e) {
      const tailorName = this.closest('.tailor-card')?.querySelector('.tailor-name')?.textContent;
        if (typeof gtag !== 'undefined') {
    gtag('event', 'view_tailor_profile', {
       'tailor_name': tailorName,
      'event_category': 'engagement'
            });
       }
          console.log('Tailor profile clicked:', tailorName);
       });
        });

        // ========== ACCESSIBILITY ENHANCEMENTS ==========
        // Skip to main content functionality
        const skipLink = document.querySelector('a[href="#main-content"]');
        if (skipLink) {
            skipLink.addEventListener('click', function(e) {
        e.preventDefault();
            const main = document.querySelector('main');
        if (main) {
  main.setAttribute('tabindex', '-1');
main.focus();
  }
});
        }

      // Announce dynamic content changes to screen readers
  function announce(message) {
            const announcement = document.createElement('div');
   announcement.setAttribute('role', 'status');
            announcement.setAttribute('aria-live', 'polite');
            announcement.className = 'sr-only';
          announcement.textContent = message;
        document.body.appendChild(announcement);
            setTimeout(() => announcement.remove(), 1000);
        }

        // ========== PERFORMANCE OPTIMIZATION ==========
        // Defer non-critical resources
        window.addEventListener('load', function() {
            console.log('Page fully loaded');
       
   // Mark page as interactive
            if (typeof performance !== 'undefined' && performance.mark) {
 performance.mark('page-interactive');
          }
        });
    </script>
}
