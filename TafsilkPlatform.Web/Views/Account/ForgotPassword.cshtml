@{
    ViewData["Title"] = "نسيت كلمة المرور - تفصيلك";
}

@section Styles {
    <style>
    .forgot-password-page {
    background-color: var(--background-gray);
         min-height: calc(100vh - 200px);
            padding: var(--spacing-3xl) 0;
        }

        .forgot-container {
    max-width: 500px;
  margin: 0 auto;
 }

        .card {
         background: var(--background-white);
     border: 1px solid var(--border-color);
    border-radius: var(--radius-xl);
   padding: var(--spacing-2xl);
   box-shadow: var(--shadow-lg);
        }

        .page-header {
          text-align: center;
            margin-bottom: var(--spacing-2xl);
    }

        .page-icon {
            font-size: 3rem;
          color: var(--primary-color);
 margin-bottom: var(--spacing-md);
        }

        .page-title {
   font-size: var(--font-size-3xl);
         font-weight: 700;
         color: var(--text-primary);
            margin-bottom: var(--spacing-sm);
    }

        .page-subtitle {
  color: var(--text-secondary);
     font-size: var(--font-size-base);
     }

        .form-group {
            margin-bottom: 1.25rem;
        }

        .form-label {
 display: block;
margin-bottom: 0.5rem;
         font-weight: 600;
 color: var(--text-primary);
        }

        .form-control {
         width: 100%;
            padding: 0.875rem 1rem;
      border: 1px solid var(--border-color);
            border-radius: var(--radius-md);
            font-size: 1rem;
            font-family: var(--font-family);
    transition: all 0.2s;
        }

        .form-control:focus {
            outline: none;
            border-color: var(--primary-color);
            box-shadow: 0 0 0 3px rgba(44, 90, 160, 0.1);
     }

        .btn-submit {
       width: 100%;
          padding: 0.875rem 1rem;
 background-color: var(--primary-color);
            color: white;
  border: none;
       border-radius: var(--radius-md);
            font-size: 1rem;
      font-weight: 600;
    cursor: pointer;
            transition: all 0.2s;
            margin-top: var(--spacing-md);
        }

        .btn-submit:hover {
   background-color: var(--primary-hover);
transform: translateY(-2px);
    box-shadow: var(--shadow-md);
    }

        .back-link {
      text-align: center;
            margin-top: var(--spacing-lg);
        }

        .back-link a {
    color: var(--primary-color);
  text-decoration: none;
        font-weight: 600;
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
        }

        .back-link a:hover {
            text-decoration: underline;
        }

        .info-card {
  background: var(--background-light);
            border: 1px solid var(--border-color);
       border-radius: var(--radius-md);
            padding: var(--spacing-md);
 margin-top: var(--spacing-lg);
     text-align: center;
        }

        .info-card i {
       color: var(--primary-color);
            margin-left: 0.5rem;
        }

        .alert {
  padding: 1rem 1.25rem;
            margin-bottom: var(--spacing-lg);
            border-radius: var(--radius-md);
  position: relative;
     }

      .alert-success {
      background-color: #d4edda;
            border: 1px solid #c3e6cb;
 color: #155724;
     }

        .alert-danger {
            background-color: #f8d7da;
     border: 1px solid #f5c6cb;
color: #721c24;
  }

   .text-danger {
      color: var(--error-color);
   font-size: 0.85rem;
            margin-top: 0.25rem;
 display: block;
        }

        @@media (max-width: 768px) {
          .forgot-password-page {
      padding: var(--spacing-xl) var(--spacing-md);
}

       .card {
              padding: var(--spacing-lg);
      }
   }
    </style>
}

<div class="forgot-password-page">
  <div class="container forgot-container">
        <div class="card">
          <div class="page-header">
            <i class="fas fa-key page-icon"></i>
   <h1 class="page-title">نسيت كلمة المرور؟</h1>
<p class="page-subtitle">أدخل بريدك الإلكتروني وسنرسل لك رابطاً لإعادة تعيين كلمة المرور</p>
    </div>

            @if (TempData["SuccessMessage"] != null)
         {
     <div class="alert alert-success" role="alert">
  <i class="fas fa-check-circle me-2"></i>
        @TempData["SuccessMessage"]
                </div>
    }

    @if (TempData["ErrorMessage"] != null)
            {
    <div class="alert alert-danger" role="alert">
                 <i class="fas fa-exclamation-circle me-2"></i>
            @TempData["ErrorMessage"]
                </div>
       }

         <form method="post" asp-action="ForgotPassword" asp-controller="Account">
   @Html.AntiForgeryToken()

      <div class="form-group">
         <label for="email" class="form-label">البريد الإلكتروني</label>
      <input type="email" 
     id="email" 
        name="email"
 class="form-control" 
      placeholder="أدخل بريدك الإلكتروني"
        required
     autofocus />
   </div>

   <button type="submit" class="btn-submit">
   <i class="fas fa-paper-plane me-2"></i>
    إرسال رابط إعادة التعيين
   </button>
  </form>

  <div class="info-card">
           <p class="mb-0 text-muted">
  <i class="fas fa-info-circle"></i>
         ستصلك رسالة خلال بضع دقائق إذا كان البريد مسجلاً في نظامنا.
          تحقق من مجلد البريد العشوائي (Spam) إذا لم تجدها.
      </p>
        </div>

   <div class="back-link">
   <a asp-action="Login" asp-controller="Account">
      <i class="fas fa-arrow-right"></i>
          العودة لتسجيل الدخول
  </a>
 </div>
        </div>
    </div>
</div>

@section Scripts {
    <partial name="_ValidationScriptsPartial" />
}
