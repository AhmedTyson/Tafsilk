@model List<TafsilkPlatform.Web.Models.TailorService>

@{
    ViewData["Title"] = "إدارة الخدمات";
}

<div class="container py-5">
    <div class="row">
      <div class="col-lg-10 mx-auto">
<!-- Header -->
  <div class="card border-0 shadow-sm mb-4">
       <div class="card-body bg-gradient-primary text-white p-4 rounded">
      <div class="d-flex justify-content-between align-items-center">
    <div>
    <h2 class="mb-2"><i class="fas fa-concierge-bell me-2"></i>إدارة الخدمات</h2>
      <p class="mb-0 opacity-75">أضف وعدل الخدمات التي تقدمها لعملائك</p>
      </div>
<a asp-action="AddService" class="btn btn-light">
        <i class="fas fa-plus me-2"></i>إضافة خدمة جديدة
         </a>
  </div>
       </div>
  </div>

  <!-- Success/Error Messages -->
      @if (TempData["Success"] != null)
{
   <div class="alert alert-success alert-dismissible fade show">
       <i class="fas fa-check-circle me-2"></i>@TempData["Success"]
         <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
     </div>
            }
     @if (TempData["Error"] != null)
 {
    <div class="alert alert-danger alert-dismissible fade show">
    <i class="fas fa-exclamation-circle me-2"></i>@TempData["Error"]
           <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
 </div>
            }

     @if (!Model.Any())
      {
    <!-- No Services State -->
     <div class="card border-0 shadow-sm text-center py-5">
  <div class="card-body">
       <i class="fas fa-box-open fa-4x text-muted mb-3"></i>
   <h4>لا توجد خدمات محفوظة</h4>
 <p class="text-muted">قم بإضافة خدمات الخياطة التي تقدمها للعملاء</p>
        <a asp-action="AddService" class="btn btn-primary">
    <i class="fas fa-plus me-2"></i>إضافة أول خدمة
       </a>
      </div>
       </div>
     }
  else
  {
   <!-- Service Cards -->
  <div class="row">
    @foreach (var service in Model)
        {
    <div class="col-md-6 mb-4">
         <div class="card h-100 border-0 shadow-sm">
          <div class="card-body">
  <div class="d-flex justify-content-between align-items-start mb-3">
         <h5 class="card-title mb-0">
       <i class="fas fa-scissors me-2 text-primary"></i>
     @service.ServiceName
 </h5>
     <span class="badge bg-primary">@service.BasePrice ريال</span>
    </div>

  <p class="card-text text-muted">
        @service.Description
  </p>

      <div class="service-meta mb-3">
        <small class="text-muted">
            <i class="fas fa-clock me-1"></i>
     المدة التقديرية: @service.EstimatedDuration يوم
       </small>
   </div>

  <div class="d-flex gap-2 pt-3 border-top">
      <a asp-action="EditService" asp-route-id="@service.TailorServiceId" 
   class="btn btn-sm btn-outline-primary flex-fill">
    <i class="fas fa-edit me-1"></i>تعديل
      </a>
      
     <form asp-action="DeleteService" asp-route-id="@service.TailorServiceId" method="post" 
     onsubmit="return confirm('هل أنت متأكد من حذف هذه الخدمة؟')">
  @Html.AntiForgeryToken()
    <button type="submit" class="btn btn-sm btn-outline-danger">
  <i class="fas fa-trash me-1"></i>حذف
    </button>
</form>
 </div>
    </div>
         </div>
   </div>
      }
     </div>
     }

     <!-- Back Button -->
  <div class="text-center mt-4">
  <a asp-action="TailorProfile" class="btn btn-outline-secondary">
       <i class="fas fa-arrow-right me-2"></i>العودة للملف الشخصي
     </a>
    </div>
        </div>
    </div>
</div>

@section Styles {
<style>
    .bg-gradient-primary {
        background: linear-gradient(135deg, #2c5aa0 0%, #1e3a5f 100%);
 }

    .card {
      transition: all 0.3s ease;
    }

    .card:hover {
        transform: translateY(-5px);
        box-shadow: 0 8px 20px rgba(0,0,0,0.1) !important;
    }

 .service-meta {
        background: #f8f9fa;
        padding: 0.75rem;
   border-radius: 8px;
    }
</style>
}
