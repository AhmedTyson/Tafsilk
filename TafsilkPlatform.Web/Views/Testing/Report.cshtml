@{
    ViewData["Title"] = "ØªÙ‚Ø±ÙŠØ± Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø± | Test Report";
    Layout = "~/Views/Shared/_Layout.cshtml";
    var report = ViewBag.Report;
}

@section Styles {
    <style>
        .test-report-page {
 padding: 40px 0;
   background: #f5f7fa;
      min-height: 100vh;
    }

        .report-header {
background: linear-gradient(135deg, #27ae60 0%, #2ecc71 100%);
       color: white;
   padding: 50px 0;
            text-align: center;
            border-radius: 0 0 20px 20px;
            margin-bottom: 40px;
 }

        .report-header h1 {
   font-size: 3rem;
            margin-bottom: 10px;
        }

        .report-header .version {
      font-size: 1.2rem;
            opacity: 0.9;
        }

        .success-badge {
         background: rgba(255,255,255,0.2);
     padding: 10px 20px;
  border-radius: 30px;
            display: inline-block;
      margin-top: 20px;
            font-size: 1.1rem;
    }

        .report-summary {
          display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
 gap: 20px;
            margin-bottom: 40px;
   }

      .summary-card {
            background: white;
  padding: 25px;
            border-radius: 12px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            text-align: center;
        }

        .summary-icon {
       font-size: 3rem;
     margin-bottom: 15px;
}

     .summary-value {
         font-size: 2rem;
        font-weight: 700;
    color: #2c3e50;
      margin-bottom: 5px;
     }

        .summary-label {
  color: #7f8c8d;
        }

        .test-results {
      background: white;
 border-radius: 12px;
         padding: 30px;
     box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            margin-bottom: 30px;
        }

 .section-title {
      font-size: 1.8rem;
 color: #2c3e50;
     margin-bottom: 20px;
  padding-bottom: 15px;
     border-bottom: 3px solid #27ae60;
        }

    .test-list {
    display: flex;
    flex-direction: column;
            gap: 15px;
     }

        .test-item {
    display: flex;
    justify-content: space-between;
            align-items: center;
    padding: 20px;
  background: #f8f9fa;
  border-radius: 8px;
        border-right: 4px solid #27ae60;
    }

        .test-name {
   font-weight: 600;
        color: #2c3e50;
            flex: 1;
        }

        .test-status {
          font-size: 1.2rem;
            margin: 0 15px;
        }

        .test-route {
        color: #7f8c8d;
   font-family: monospace;
     font-size: 0.9rem;
        }

        .database-health {
   background: white;
          border-radius: 12px;
     padding: 30px;
          box-shadow: 0 2px 10px rgba(0,0,0,0.1);
margin-bottom: 30px;
        }

     .health-grid {
      display: grid;
 grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
        }

        .health-item {
            padding: 20px;
            background: #f8f9fa;
            border-radius: 8px;
        text-align: center;
        }

     .health-status {
            font-size: 2rem;
     margin-bottom: 10px;
    }

        .health-label {
color: #7f8c8d;
     font-size: 0.95rem;
        }

        .completion-bar {
     background: #e0e0e0;
  height: 40px;
   border-radius: 20px;
            overflow: hidden;
            margin: 30px 0;
          position: relative;
        }

    .completion-fill {
            background: linear-gradient(135deg, #27ae60 0%, #2ecc71 100%);
            height: 100%;
       display: flex;
      align-items: center;
            justify-content: center;
            color: white;
      font-weight: 700;
  font-size: 1.2rem;
        }

        .action-buttons {
            display: flex;
 gap: 15px;
            justify-content: center;
     margin-top: 40px;
        }

        .btn {
 padding: 15px 30px;
       border: none;
        border-radius: 8px;
            font-weight: 600;
   cursor: pointer;
   text-decoration: none;
        display: inline-flex;
     align-items: center;
         gap: 10px;
    transition: transform 0.2s;
   }

        .btn:hover {
      transform: translateY(-2px);
        }

     .btn-success {
         background: linear-gradient(135deg, #27ae60 0%, #2ecc71 100%);
            color: white;
        }

        .btn-primary {
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }

        .btn-secondary {
          background: #6c757d;
   color: white;
   }
    </style>
}

<div class="test-report-page">
    <div class="report-header">
        <div class="container">
 <h1>âœ… ØªÙ‚Ø±ÙŠØ± Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„ÙƒØ§Ù…Ù„</h1>
       <p class="version">Ø§Ù„Ù†Ø³Ø®Ø© @report.PlatformVersion - Ø¢Ø®Ø± ØªØ­Ø¯ÙŠØ«: @report.LastUpdated.ToString("dd/MM/yyyy HH:mm")</p>
    <div class="success-badge">
    <i class="fas fa-check-circle"></i> Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª Ù†Ø§Ø¬Ø­Ø©
         </div>
        </div>
    </div>

    <div class="container">
    <!-- Completion Progress -->
        <div class="completion-bar">
      <div class="completion-fill" style="width: 100%;">
           100% - Ø§Ù„Ù…Ù†ØµØ© Ø¬Ø§Ù‡Ø²Ø© Ø¨Ø§Ù„ÙƒØ§Ù…Ù„
 </div>
     </div>

        <!-- Summary Cards -->
        <div class="report-summary">
            <div class="summary-card">
       <div class="summary-icon">ğŸ“„</div>
                <div class="summary-value">@report.TotalPages</div>
            <div class="summary-label">Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„ØµÙØ­Ø§Øª</div>
    </div>

    <div class="summary-card">
                <div class="summary-icon">ğŸ‘¤</div>
             <div class="summary-value">@report.CustomerPages</div>
            <div class="summary-label">ØµÙØ­Ø§Øª Ø§Ù„Ø¹Ù…ÙŠÙ„</div>
       </div>

 <div class="summary-card">
  <div class="summary-icon">âœ‚ï¸</div>
      <div class="summary-value">@report.TailorPages</div>
          <div class="summary-label">ØµÙØ­Ø§Øª Ø§Ù„Ø®ÙŠØ§Ø·</div>
          </div>

 <div class="summary-card">
   <div class="summary-icon">ğŸ›¡ï¸</div>
          <div class="summary-value">@report.AdminPages</div>
                <div class="summary-label">ØµÙØ­Ø§Øª Ø§Ù„Ù…Ø´Ø±Ù</div>
     </div>

        <div class="summary-card">
  <div class="summary-icon">âœ…</div>
  <div class="summary-value">@report.BuildStatus</div>
        <div class="summary-label">Ø­Ø§Ù„Ø© Ø§Ù„Ø¨Ù†Ø§Ø¡</div>
  </div>
        </div>

    <!-- Test Results -->
        <div class="test-results">
            <h2 class="section-title">Ù†ØªØ§Ø¦Ø¬ Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±</h2>
            <div class="test-list">
   @foreach (var test in report.TestsCovered)
          {
          <div class="test-item">
        <div class="test-name">@test.Name</div>
            <div class="test-status">@test.Status</div>
         <div class="test-route">@test.Route</div>
     </div>
   }
     </div>
        </div>

  <!-- Database Health -->
        <div class="database-health">
   <h2 class="section-title">ØµØ­Ø© Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª</h2>
            <div class="health-grid">
             <div class="health-item">
           <div class="health-status">@report.DatabaseHealth.UsersTable</div>
    <div class="health-label">Ø¬Ø¯ÙˆÙ„ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ†</div>
                </div>
       <div class="health-item">
     <div class="health-status">@report.DatabaseHealth.OrdersTable</div>
        <div class="health-label">Ø¬Ø¯ÙˆÙ„ Ø§Ù„Ø·Ù„Ø¨Ø§Øª</div>
            </div>
  <div class="health-item">
      <div class="health-status">@report.DatabaseHealth.ReviewsTable</div>
             <div class="health-label">Ø¬Ø¯ÙˆÙ„ Ø§Ù„ØªÙ‚ÙŠÙŠÙ…Ø§Øª</div>
   </div>
     <div class="health-item">
              <div class="health-status">@report.DatabaseHealth.NotificationsTable</div>
         <div class="health-label">Ø¬Ø¯ÙˆÙ„ Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª</div>
       </div>
              <div class="health-item">
<div class="health-status">@report.DatabaseHealth.IdempotencyTable</div>
            <div class="health-label">Ø¬Ø¯ÙˆÙ„ Idempotency</div>
                </div>
      </div>
        </div>

        <!-- Action Buttons -->
        <div class="action-buttons">
       <a href="/Testing/Index" class="btn btn-primary">
  <i class="fas fa-arrow-right"></i> Ø§Ù„Ø¹ÙˆØ¯Ø© Ø¥Ù„Ù‰ Ù…Ø±ÙƒØ² Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±
     </a>
            <a href="/Testing/TestData" class="btn btn-secondary">
       <i class="fas fa-database"></i> Ø¹Ø±Ø¶ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
            </a>
      <a href="/Testing/CheckPages" class="btn btn-success">
 <i class="fas fa-check-double"></i> ÙØ­Øµ Ø¬Ù…ÙŠØ¹ Ø§Ù„ØµÙØ­Ø§Øª
      </a>
        </div>
    </div>
</div>

@section Scripts {
    <script>
// Animate completion bar
    document.addEventListener('DOMContentLoaded', function() {
            const fill = document.querySelector('.completion-fill');
            fill.style.width = '0%';
            setTimeout(() => {
      fill.style.transition = 'width 2s ease-out';
        fill.style.width = '100%';
    }, 100);
        });
 </script>
}
