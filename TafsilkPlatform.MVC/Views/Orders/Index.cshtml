@model List<TafsilkPlatform.MVC.Models.Order>
@{
 ViewData["Title"] = "جميع الطلبات";
}

<div class="container mt-4">
    <h1 class="mb-4">جميع الطلبات</h1>

    @if (Model != null && Model.Any())
 {
     <div class="table-responsive">
       <table class="table table-striped table-hover">
      <thead class="table-dark">
      <tr>
   <th>رقم الطلب</th>
      <th>العميل</th>
     <th>الخياط</th>
   <th>الخدمة</th>
     <th>السعر</th>
    <th>الحالة</th>
    <th>تاريخ الطلب</th>
       <th>الإجراءات</th>
  </tr>
   </thead>
      <tbody>
   @foreach (var order in Model)
    {
     var statusClass = order.Status switch
    {
       "مكتمل" => "success",
    "قيد التنفيذ" => "warning",
       "جديد" => "info",
       _ => "secondary"
    };

    <tr>
     <td><code>@order.Id.ToString().Substring(0, 8)</code></td>
  <td>@order.CustomerName</td>
       <td>@order.TailorName</td>
       <td>@order.ServiceName</td>
    <td class="fw-bold text-success">@order.TotalPrice.ToString("N0") جنيه</td>
       <td><span class="badge bg-@statusClass">@order.Status</span></td>
     <td>@order.OrderDate.ToString("dd/MM/yyyy")</td>
       <td>
   <a asp-action="Details" asp-route-id="@order.Id" class="btn btn-sm btn-primary">
   <i class="bi bi-eye"></i> عرض
  </a>
      </td>
   </tr>
   }
     </tbody>
     </table>
 </div>
    }
    else
    {
  <div class="alert alert-info text-center">
       <i class="bi bi-info-circle"></i> لا توجد طلبات متاحة
        </div>
    }
</div>
