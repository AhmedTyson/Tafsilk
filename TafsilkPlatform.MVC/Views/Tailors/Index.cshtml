@model List<TafsilkPlatform.MVC.Models.TailorProfile>
@{
    ViewData["Title"] = "جميع الخياطين";
}

<div class="container mt-4">
    <h1 class="mb-4">جميع الخياطين</h1>
 
  <div class="row mb-4">
    <div class="col-md-12">
   <input type="text" class="form-control" id="searchBox" placeholder="ابحث عن خياط..." />
 </div>
    </div>

 <div class="row">
   @if (Model != null && Model.Any())
{
      @foreach (var tailor in Model)
  {
    <div class="col-md-6 col-lg-4 mb-4 tailor-card">
   <div class="card h-100 shadow-sm hover-card">
     <div class="card-body">
    <div class="d-flex justify-content-between align-items-start mb-3">
        <h4 class="card-title mb-0">@tailor.ShopName</h4>
     <span class="badge bg-primary">خياط</span>
       </div>
     
       <p class="text-muted mb-2">
   <i class="bi bi-person-fill"></i> @tailor.FullName
      </p>
  
      <p class="text-muted mb-2">
    <i class="bi bi-geo-alt-fill"></i> @tailor.City - @tailor.Address
     </p>
    
        <p class="text-muted mb-2">
       <i class="bi bi-clock-history"></i> @tailor.ExperienceYears سنوات خبرة
   </p>

    <div class="mb-3">
     <i class="bi bi-star-fill text-warning"></i>
    <strong>@tailor.Rating</strong>
     <span class="text-muted">(@tailor.ReviewCount تقييم)</span>
        </div>

      <p class="card-text text-muted">@tailor.Bio</p>

     @if (tailor.Specialties != null && tailor.Specialties.Any())
  {
     <div class="mb-3">
        @foreach (var specialty in tailor.Specialties)
 {
   <span class="badge bg-secondary me-1">@specialty</span>
    }
        </div>
   }

  <div class="d-grid gap-2">
     <a asp-action="Details" asp-route-id="@tailor.Id" class="btn btn-primary">
    عرض التفاصيل
        </a>
     <a asp-action="Services" asp-route-id="@tailor.Id" class="btn btn-outline-secondary">
  الخدمات المتوفرة
      </a>
       </div>
     </div>
      </div>
        </div>
  }
    }
  else
 {
       <div class="col-12">
<div class="alert alert-info text-center">
  <i class="bi bi-info-circle"></i> لا توجد بيانات خياطين متاحة حالياً
     </div>
     </div>
   }
    </div>
</div>

@section Scripts {
    <script>
 document.getElementById('searchBox').addEventListener('keyup', function() {
   const searchTerm = this.value.toLowerCase();
   const cards = document.querySelectorAll('.tailor-card');
 
       cards.forEach(card => {
       const text = card.textContent.toLowerCase();
 card.style.display = text.includes(searchTerm) ? '' : 'none';
    });
 });
    </script>
}

<style>
.hover-card {
        transition: transform 0.2s;
  }
    .hover-card:hover {
  transform: translateY(-5px);
 }
</style>
