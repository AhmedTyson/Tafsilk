# ğŸ—ï¸ Project Architecture Diagram

## Overall Architecture

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  TafsilkPlatform.MVC      â”‚
â”‚      ASP.NET Core 9.0 MVC         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚       â”‚         â”‚
  â”Œâ”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â–¼â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”
     â”‚ Controllers  â”‚ â”‚ Models â”‚ â”‚  Services  â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
           â”‚       â”‚
  â”Œâ”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”
        â”‚           Views (Razor)  â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## MVC Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Browser â”‚â”€â”€â”€â”€â”€â”€â–¶â”‚ Controller   â”‚â”€â”€â”€â”€â”€â”€â–¶â”‚ Service  â”‚
â”‚      â”‚       â”‚ â”‚       â”‚          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â–²     â”‚         â”‚
     â”‚    â–¼         â–¼
     â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚  View     â”‚ â”‚  Model â”‚
         â”‚   (Razor)    â”‚  â”‚  (Data)  â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Authentication Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Login Page  â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ AccountControllerâ”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”YES     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   AuthService    â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶ â”‚ Create Cookie  â”‚
â”‚ (Password Hash)  â”‚       â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚
       â”‚      â–¼
  â”‚ NO           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶ â”‚ Set Claims   â”‚
     â”‚ - UserId     â”‚
         â”‚ - Email      â”‚
       â”‚ - Roleâ”‚
 â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚
    â–¼
          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚  Redirect    â”‚
      â”‚ by Role      â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Controllers Structure

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Controllers               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ AccountController   â”‚ â”‚
â”‚  â”‚ â”œâ”€ Login()        â”€â”€â”€ REAL AUTH   â”‚ â”‚
â”‚  â”‚ â”œâ”€ Register()     â”€â”€â”€ REAL AUTH   â”‚ â”‚
â”‚  â”‚ â””â”€ Logout()       â”€â”€â”€ REAL AUTH   â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ HomeController  â”‚ â”‚
â”‚  â”‚ â””â”€ Index()        â”€â”€â”€ MOCK DATA   â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ TailorsController       â”‚ â”‚
â”‚  â”‚ â”œâ”€ Index()        â”€â”€â”€ MOCK DATA   â”‚ â”‚
â”‚  â”‚ â”œâ”€ Details()      â”€â”€â”€ MOCK DATA   â”‚ â”‚
â”‚  â”‚ â””â”€ Services()     â”€â”€â”€ MOCK DATA   â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ OrdersController    [Authorize]    â”‚ â”‚
â”‚  â”‚ â”œâ”€ Index()   â”€â”€â”€ MOCK DATA   â”‚ â”‚
â”‚  â”‚ â””â”€ Details()      â”€â”€â”€ MOCK DATA   â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ DashboardController [Admin Only]   â”‚ â”‚
â”‚  â”‚ â”œâ”€ Index()        â”€â”€â”€ MOCK DATA   â”‚ â”‚
â”‚  â”‚ â”œâ”€ Customers()    â”€â”€â”€ MOCK DATA   â”‚ â”‚
â”‚  â”‚ â””â”€ Tailors()      â”€â”€â”€ MOCK DATA   â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Services Architecture

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  Services        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ AuthService (IAuthService)   â”‚ â”‚
â”‚  â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚
â”‚  â”‚ â”‚  REAL IMPLEMENTATION        â”‚ â”‚ â”‚
â”‚  â”‚ â”‚  â€¢ AuthenticateAsync()         â”‚ â”‚ â”‚
â”‚  â”‚ â”‚    â”œâ”€ Find user by email â”‚ â”‚ â”‚
â”‚  â”‚ â”‚    â”œâ”€ Hash password (SHA256)         â”‚ â”‚ â”‚
â”‚  â”‚ â”‚    â”œâ”€ Compare hashes       â”‚ â”‚ â”‚
â”‚  â”‚ â”‚    â””â”€ Return user or null            â”‚ â”‚ â”‚
â”‚  â”‚ â”‚              â”‚ â”‚ â”‚
â”‚  â”‚ â”‚  â€¢ RegisterAsync()   â”‚ â”‚ â”‚
â”‚  â”‚ â”‚â”œâ”€ Check email exists  â”‚ â”‚ â”‚
â”‚  â”‚ â”‚    â”œâ”€ Hash password     â”‚ â”‚ â”‚
â”‚  â”‚ â”‚    â””â”€ Create user in memory      â”‚ â”‚ â”‚
â”‚  â”‚ â”‚       â”‚ â”‚ â”‚
â”‚  â”‚ â”‚  â€¢ In-Memory User Store           â”‚ â”‚ â”‚
â”‚  â”‚ â”‚    â””â”€ List<User> _users         â”‚ â”‚ â”‚
â”‚  â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ MockDataService      â”‚ â”‚
â”‚  â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚
â”‚  â”‚ â”‚  MOCK/FAKE DATA          â”‚ â”‚ â”‚
â”‚  â”‚ â”‚  â€¢ GetAllTailors()             â”‚ â”‚ â”‚
â”‚  â”‚ â”‚  â€¢ GetTailorById(id)             â”‚ â”‚ â”‚
â”‚  â”‚ â”‚  â€¢ GetAllCustomers()        â”‚ â”‚ â”‚
â”‚  â”‚ â”‚  â€¢ GetAllServices()     â”‚ â”‚ â”‚
â”‚  â”‚ â”‚  â€¢ GetAllOrders()         â”‚ â”‚ â”‚
â”‚  â”‚ â”‚  â€¢ GetDashboardStats()           â”‚ â”‚ â”‚
â”‚  â”‚ â”‚           â”‚ â”‚ â”‚
â”‚  â”‚ â”‚  Static Data:        â”‚ â”‚ â”‚
â”‚  â”‚ â”‚  â””â”€ List<TailorProfile>    â”‚ â”‚ â”‚
â”‚  â”‚ â”‚  â””â”€ List<CustomerProfile>            â”‚ â”‚ â”‚
â”‚  â”‚ â”‚  â””â”€ List<TailorService>              â”‚ â”‚ â”‚
â”‚  â”‚ â”‚  â””â”€ List<Order>      â”‚ â”‚ â”‚
â”‚  â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Data Models

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚       Models       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚     â”‚
â”‚  Authentication Models (REAL)    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ User      â”‚ â”‚
â”‚  â”‚ â”œâ”€ Id: Guid            â”‚ â”‚
â”‚  â”‚ â”œâ”€ Email: string   â”‚ â”‚
â”‚  â”‚ â”œâ”€ PasswordHash: string  â”‚ â”‚
â”‚  â”‚ â”œâ”€ FullName: string            â”‚ â”‚
â”‚  â”‚ â””â”€ Role: string    â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ LoginViewModel          â”‚ â”‚
â”‚  â”‚ â”œâ”€ Email: string      â”‚ â”‚
â”‚  â”‚ â”œâ”€ Password: string         â”‚ â”‚
â”‚  â”‚ â””â”€ RememberMe: bool  â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚     â”‚
â”‚  Business Models (MOCK)              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ TailorProfile â”‚ â”‚
â”‚â”‚ â”œâ”€ ShopName, FullName, Bio         â”‚ â”‚
â”‚  â”‚ â”œâ”€ City, Address           â”‚ â”‚
â”‚  â”‚ â”œâ”€ ExperienceYears, Rating         â”‚ â”‚
â”‚  â”‚ â””â”€ Specialties: List<string>       â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ Order, TailorService, Customer...  â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Views Hierarchy

```
Views/
â”‚
â”œâ”€â”€ Shared/
â”‚   â””â”€â”€ _Layout.cshtml
â”‚       â”œâ”€â”€ Navbar (with auth menu)
â”‚ â”œâ”€â”€ Main content area
â”‚       â””â”€â”€ Footer
â”‚
â”œâ”€â”€ Account/
â”‚   â”œâ”€â”€ Login.cshtml     â”€â”€â”€ REAL AUTH
â”‚   â”œâ”€â”€ Register.cshtml      â”€â”€â”€ REAL AUTH
â”‚   â””â”€â”€ AccessDenied.cshtml
â”‚
â”œâ”€â”€ Home/
â”‚   â””â”€â”€ Index.cshtml         â”€â”€â”€ MOCK DATA
â”‚       â””â”€â”€ Featured Tailors (3)
â”‚
â”œâ”€â”€ Tailors/
â”‚   â”œâ”€â”€ Index.cshtml         â”€â”€â”€ MOCK DATA
â”‚   â”‚   â””â”€â”€ All Tailors List
â”‚   â”œâ”€â”€ Details.cshtmlâ”€â”€â”€ MOCK DATA
â”‚ â”‚   â””â”€â”€ Tailor Profile + Services
â”‚   â””â”€â”€ Services.cshtml â”€â”€â”€ MOCK DATA
â”‚       â””â”€â”€ Service Catalog
â”‚
â”œâ”€â”€ Orders/
â”‚   â”œâ”€â”€ Index.cshtml       â”€â”€â”€ MOCK DATA
â”‚   â”‚   â””â”€â”€ Orders Table
â”‚   â””â”€â”€ Details.cshtml       â”€â”€â”€ MOCK DATA
â”‚       â””â”€â”€ Order Information
â”‚
â””â”€â”€ Dashboard/
    â””â”€â”€ Index.cshtml         â”€â”€â”€ MOCK DATA
        â””â”€â”€ Statistics Cards
```

## Request Flow Example

```
User clicks "Login"
       â”‚
       â–¼
GET /Account/Login
  â”‚
       â–¼
AccountController.Login() [HttpGet]
   â”‚
       â–¼
Return Login.cshtml
       â”‚
       â–¼
User enters credentials and submits
       â”‚
       â–¼
POST /Account/Login
   â”‚
       â–¼
AccountController.Login(LoginViewModel) [HttpPost]
       â”‚
       â–¼
AuthService.AuthenticateAsync(email, password)
       â”‚
       â”œâ”€â”€â”€ Hash password (SHA256)
       â”œâ”€â”€â”€ Compare with stored hash
       â””â”€â”€â”€ Return User or null
       â”‚
       â–¼
If valid: Create authentication cookie
       â”‚
       â”œâ”€â”€â”€ Add claims (UserId, Email, Role)
    â”œâ”€â”€â”€ Set expiration
    â””â”€â”€â”€ Sign in user
       â”‚
       â–¼
Redirect to appropriate page based on role
       â”‚
       â”œâ”€â”€â”€ Admin â†’ /Dashboard
       â”œâ”€â”€â”€ Tailor â†’ /Tailors
  â””â”€â”€â”€ Customer â†’ /Home
```

## Authorization Flow

```
User requests protected page
       â”‚
     â–¼
Check [Authorize] attribute
       â”‚
       â”œâ”€â”€â”€ NOT authenticated â†’ Redirect to /Account/Login
     â”‚
     â–¼
Check Role requirement
  â”‚
     â”œâ”€â”€â”€ [Authorize(Roles = "Admin")]
       â”‚    â””â”€â”€â”€ User.IsInRole("Admin")?
       â”‚         â”œâ”€â”€â”€ YES â†’ Allow access
       â”‚         â””â”€â”€â”€ NO  â†’ /Account/AccessDenied
   â”‚
       â–¼
Allow access to controller action
  â”‚
       â–¼
Execute controller logic
       â”‚
    â–¼
Return view
```

## Data Flow (Mock)

```
Controller Action
       â”‚
       â–¼
MockDataService.GetXXX()
       â”‚
    â–¼
Access static List<T>
   â”‚
       â”œâ”€â”€â”€ _tailors
â”œâ”€â”€â”€ _customers
       â”œâ”€â”€â”€ _services
   â””â”€â”€â”€ _orders
       â”‚
       â–¼
Filter/Transform as needed
       â”‚
       â–¼
Return data to Controller
       â”‚
       â–¼
Pass to View
       â”‚
       â–¼
Render HTML
```

## Security Layers

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Layer 1: Anti-Forgery Tokens      â”‚
â”‚   [ValidateAntiForgeryToken]        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
 â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Layer 2: Authentication  â”‚
â”‚   Cookie Validation   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Layer 3: Authorization            â”‚
â”‚   Role-Based Access Control         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Layer 4: Input Validation      â”‚
â”‚   Data Annotations  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Layer 5: Password Security        â”‚
â”‚   SHA256 Hashing               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Deployment Architecture (Future)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    Production (Future)     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚         â”‚
â”‚  Web Server (IIS/Kestrel)            â”‚
â”‚      â”‚    â”‚
â”‚      â–¼           â”‚
â”‚  ASP.NET Core MVC          â”‚
â”‚      â”‚    â”‚
â”‚      â”œâ”€â”€â–¶ Entity Framework Core        â”‚
â”‚      â”‚         â”‚       â”‚
â”‚      â”‚ â–¼               â”‚
â”‚      â”‚    SQL Server / PostgreSQL        â”‚
â”‚â”‚     â”‚
â”‚      â”œâ”€â”€â–¶ File Storage (Azure Blob)  â”‚
â”‚ â”‚ â”‚
â”‚      â”œâ”€â”€â–¶ Email Service (SendGrid)       â”‚
â”‚      â”‚    â”‚
â”‚      â””â”€â”€â–¶ Payment Gateway (Stripe)       â”‚
â”‚ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Current vs Future Architecture

```
CURRENT (Demo):
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ MVC App   â”‚
â”‚ â”œâ”€ Auth âœ…   â”‚  (Real)
â”‚ â””â”€ Data ğŸ“Š   â”‚  (Mock - In Memory)
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

FUTURE (Production):
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ MVC App      â”‚  â”‚  Database    â”‚
â”‚ â”œâ”€ Auth âœ…   â”‚â”€â”€â”€â”€â”€â”€â”‚  SQL Server  â”‚
â”‚ â””â”€ Data âœ…   â”‚      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â”œâ”€â”€â–¶ File Storage
       â”œâ”€â”€â–¶ Email Service
       â””â”€â”€â–¶ Payment Gateway
```

---

**This diagram shows the complete architecture of the TafsilkPlatform.MVC project**
