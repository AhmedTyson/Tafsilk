@model TafsilkPlatform.Models.ViewModels.HomeViewModel
@{
    ViewData["Title"] = "Tafsilk - Premium Tailoring Platform";
    ViewData["Description"] = "Discover the best tailors in your area with transparent prices and reliable quality.";
}

@section Styles {
    <style>
        :root {
            --gold-primary: #D4AF37;
            --gold-light: #F4C430;
            --gold-dark: #AA8C2C;
            --dark-bg: #0f172a;
            --dark-card: #1e293b;
            --text-light: #f8f9fa;
            --text-muted: #94a3b8;
        }

        body {
            background-color: #0b1120;
            color: var(--text-light);
        }

        /* ========== HERO SECTION ========== */
        .hero {
            position: relative;
            min-height: 85vh;
            display: flex;
            align-items: center;
            background: linear-gradient(135deg, #000000 0%, #1a1a1a 100%);
            overflow: hidden;
        }

        .hero::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: radial-gradient(circle at center, rgba(212, 175, 55, 0.15) 0%, transparent 70%);
            pointer-events: none;
        }

        .hero-content {
            position: relative;
            z-index: 2;
        }

        .hero-title {
            font-size: clamp(2.5rem, 6vw, 4.5rem);
            font-weight: 800;
            background: linear-gradient(to right, #fff, #e2e8f0);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 1.5rem;
            line-height: 1.1;
        }

        .hero-subtitle {
            font-size: clamp(1.1rem, 2.5vw, 1.5rem);
            color: var(--text-muted);
            margin-bottom: 3rem;
            max-width: 700px;
            margin-left: auto;
            margin-right: auto;
        }

        .btn-gold {
            background: linear-gradient(45deg, var(--gold-primary), var(--gold-light));
            color: #000;
            font-weight: 700;
            border: none;
            padding: 16px 40px;
            border-radius: 50px;
            transition: all 0.3s ease;
            box-shadow: 0 4px 20px rgba(212, 175, 55, 0.3);
        }

        .btn-gold:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 30px rgba(212, 175, 55, 0.5);
            color: #000;
        }

        /* ========== UTILITIES ========== */
        .text-gold {
            color: var(--gold-primary) !important;
        }
        
        .bg-dark-glass {
            background: rgba(15, 23, 42, 0.8);
            backdrop-filter: blur(10px);
        }

        .border-gold {
            border-color: var(--gold-primary) !important;
        }

        .btn-outline-gold {
            color: var(--gold-primary);
            border: 2px solid var(--gold-primary);
            font-weight: 700;
            padding: 14px 30px;
            border-radius: 50px;
            transition: all 0.3s ease;
            background: transparent;
            text-decoration: none;
            display: inline-block;
        }

        .btn-outline-gold:hover {
            background: var(--gold-primary);
            color: #000;
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(212, 175, 55, 0.3);
        }

        .feature-icon-wrapper {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background: rgba(212, 175, 55, 0.1);
            display: flex;
            align-items: center;
            justify-content: center;
            border: 1px solid rgba(212, 175, 55, 0.3);
        }

        /* ========== TRUST BAR ========== */
        .trust-bar {
            background: #000;
            border-bottom: 1px solid rgba(255, 255, 255, 0.05);
            padding: 40px 0;
        }

        .trust-number {
            font-size: 3rem;
            font-weight: 800;
            color: var(--gold-primary);
            display: block;
            line-height: 1;
            margin-bottom: 5px;
        }

        .trust-label {
            color: var(--text-muted);
            font-size: 0.9rem;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        /* ========== SECTIONS ========== */
        .section-title {
            color: #fff;
            font-weight: 800;
            margin-bottom: 1rem;
        }

        .section-subtitle {
            color: var(--text-muted);
            margin-bottom: 4rem;
        }

        /* ========== CARDS (Unified Design) ========== */
        .tailor-card {
            background: var(--dark-card);
            border: 1px solid rgba(255, 255, 255, 0.05);
            border-radius: 16px;
            overflow: hidden;
            transition: all 0.3s ease;
            display: flex;
            flex-direction: column;
            height: 100%;
            position: relative;
        }

        .tailor-card:hover {
            transform: translateY(-5px);
            border-color: var(--gold-primary);
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
        }

        .tailor-image-wrapper {
            position: relative;
            padding-top: 125%; /* 4:5 Aspect Ratio matching store */
            background: #1a1a1a;
            overflow: hidden;
        }

        .tailor-image {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.5s ease;
        }

        .tailor-card:hover .tailor-image {
            transform: scale(1.05);
        }

        .tailor-overlay {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            padding: 20px;
            background: linear-gradient(to top, rgba(0,0,0,0.9), transparent);
            display: flex;
            gap: 10px;
            transform: translateY(100%);
            transition: transform 0.3s ease;
            z-index: 2;
        }

        .tailor-card:hover .tailor-overlay {
            transform: translateY(0);
        }

        .tailor-info {
            padding: 20px;
            flex-grow: 1;
            display: flex;
            flex-direction: column;
            background: linear-gradient(180deg, rgba(30, 41, 59, 0) 0%, rgba(30, 41, 59, 0.5) 100%);
        }

        .tailor-name {
            color: #fff;
            font-weight: 700;
            font-size: 1.1rem;
            margin-bottom: 5px;
        }

        .tailor-location {
            color: var(--text-muted);
            font-size: 0.85rem;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 5px;
        }

        .rating-badge {
            position: absolute;
            top: 12px;
            left: 12px;
            background: rgba(15, 23, 42, 0.9);
            backdrop-filter: blur(4px);
            color: var(--gold-primary);
            padding: 4px 10px;
            border-radius: 50px;
            font-size: 0.8rem;
            font-weight: 700;
            z-index: 2;
            border: 1px solid rgba(212, 175, 55, 0.3);
            display: flex;
            align-items: center;
            gap: 4px;
        }

        /* ... existing styles ... */
        
        /* ========== CATEGORIES ========== */
        .category-card {
            background: var(--dark-card);
            border: 1px solid rgba(255, 255, 255, 0.05);
            border-radius: 16px;
            padding: 30px;
            text-align: center;
            transition: all 0.3s ease;
            text-decoration: none;
            display: block;
        }

        .category-card:hover {
            background: linear-gradient(135deg, var(--dark-card) 0%, #2d3748 100%);
            border-color: var(--gold-primary);
            transform: translateY(-5px);
        }

        .category-icon {
            font-size: 2.5rem;
            color: var(--gold-primary);
            margin-bottom: 20px;
            transition: all 0.3s ease;
        }

        .category-card:hover .category-icon {
            transform: scale(1.2);
            color: #fff;
        }

        .category-title {
            color: #fff;
            font-size: 1.1rem;
            font-weight: 600;
            margin: 0;
        }

        /* ========== HOW IT WORKS ========== */
        .step-card {
            text-align: center;
            padding: 20px;
            position: relative;
        }

        .step-icon-wrapper {
            width: 100px;
            height: 100px;
            margin: 0 auto 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            background: rgba(212, 175, 55, 0.1);
            border-radius: 50%;
            border: 1px solid rgba(212, 175, 55, 0.3);
            transition: all 0.3s ease;
        }

        .step-card:hover .step-icon-wrapper {
            background: rgba(212, 175, 55, 0.2);
            transform: scale(1.1);
            box-shadow: 0 0 20px rgba(212, 175, 55, 0.2);
        }

        .step-icon {
            width: 50px;
            height: 50px;
            object-fit: contain;
        }

        .step-number {
            position: absolute;
            top: 10px;
            right: 50%;
            transform: translateX(40px);
            background: var(--gold-primary);
            color: #000;
            width: 24px;
            height: 24px;
            border-radius: 50%;
            font-weight: bold;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.8rem;
        }

        /* ========== TRENDING PRODUCTS ========== */
        .product-card {
            background: var(--dark-card);
            border: 1px solid rgba(255, 255, 255, 0.05);
            border-radius: 16px;
            overflow: hidden;
            transition: all 0.3s ease;
            height: 100%;
            display: flex;
            flex-direction: column;
        }

        .product-card:hover {
            transform: translateY(-5px);
            border-color: var(--gold-primary);
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
        }

        .product-image {
            height: 300px;
            width: 100%;
            object-fit: cover;
        }

        .product-info {
            padding: 20px;
            flex-grow: 1;
            display: flex;
            flex-direction: column;
        }

        .product-info .btn {
            margin-top: auto;
        }

        .product-price {
            color: var(--gold-primary);
            font-weight: 700;
            font-size: 1.2rem;
        }

        /* ========== TESTIMONIALS ========== */
        .testimonial-section {
            background-image: url('/images/testimonial-bg.png');
            background-size: cover;
            background-position: center;
            position: relative;
        }

        .testimonial-section::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(11, 17, 32, 0.9);
        }

        .testimonial-card {
            background: rgba(30, 41, 59, 0.6);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.05);
            padding: 30px;
            border-radius: 16px;
            height: 100%;
        }

        .testimonial-text {
            font-style: italic;
            color: #e2e8f0;
            margin-bottom: 20px;
        }

        .client-info {
            display: flex;
            align-items: center;
        }

        .client-avatar {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            margin-right: 15px;
            border: 2px solid var(--gold-primary);
        }

        /* ========== NEWSLETTER ========== */
        .newsletter-section {
            background-image: url('/images/newsletter-bg.png');
            background-size: cover;
            background-position: center;
            position: relative;
            padding: 80px 0;
        }

        .newsletter-section::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.7);
        }

        .newsletter-form .form-control {
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            color: #fff;
            padding: 15px 25px;
            border-radius: 50px;
        }

        .newsletter-form .form-control:focus {
            background: rgba(255, 255, 255, 0.2);
            border-color: var(--gold-primary);
            box-shadow: none;
        }
    </style>
}

<!-- Hero Carousel -->
<div id="heroCarousel" class="carousel slide carousel-fade" data-bs-ride="carousel" data-bs-interval="5000">
    <div class="carousel-indicators">
        <button type="button" data-bs-target="#heroCarousel" data-bs-slide-to="0" class="active" aria-current="true" aria-label="Slide 1"></button>
        <button type="button" data-bs-target="#heroCarousel" data-bs-slide-to="1" aria-label="Slide 2"></button>
        <button type="button" data-bs-target="#heroCarousel" data-bs-slide-to="2" aria-label="Slide 3"></button>
    </div>
    <div class="carousel-inner">
        <!-- Slide 1: Main -->
        <div class="carousel-item active">
            <section class="hero" style="background: linear-gradient(135deg, #000000 0%, #1a1a1a 100%);">
                <div class="container hero-content text-center">
                    <h1 class="hero-title">Masterful Tailoring,<br>Exquisite Style</h1>
                    <p class="hero-subtitle">Connect with elite tailors who craft perfection. From bespoke suits to intricate alterations, experience luxury at your fingertips.</p>
                    <div class="mt-4">
                        <a href="@Url.Action("Index", "Tailors")" class="btn btn-gold px-5">Find a Tailor</a>
                    </div>
                </div>
            </section>
        </div>
        <!-- Slide 2: Store -->
        <div class="carousel-item">
            <section class="hero" style="background: linear-gradient(135deg, #1a1a1a 0%, #2c3e50 100%);">
                <div class="container hero-content text-center">
                    <h1 class="hero-title">Ready-to-Wear<br>Collection</h1>
                    <p class="hero-subtitle">Discover unique, handcrafted garments available for immediate purchase. Quality you can trust, style you can wear today.</p>
                    <div class="mt-4">
                        <a href="@Url.Action("Index", "Store", new { area = "Customer" })" class="btn btn-gold px-5">Shop Now</a>
                    </div>
                </div>
            </section>
        </div>
        <!-- Slide 3: Join -->
        <div class="carousel-item">
            <section class="hero" style="background: linear-gradient(135deg, #0f172a 0%, #1e293b 100%);">
                <div class="container hero-content text-center">
                    <h1 class="hero-title">Join the Elite<br>Network</h1>
                    <p class="hero-subtitle">Are you a master tailor? Showcase your work to thousands of clients and grow your business with Tafsilk.</p>
                    <div class="mt-4">
                        <a href="@Url.Action("RequestRoleChange", "Account")" class="btn btn-gold px-5">Join as Tailor</a>
                    </div>
                </div>
            </section>
        </div>
    </div>
    <button class="carousel-control-prev" type="button" data-bs-target="#heroCarousel" data-bs-slide="prev">
        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
        <span class="visually-hidden">Previous</span>
    </button>
    <button class="carousel-control-next" type="button" data-bs-target="#heroCarousel" data-bs-slide="next">
        <span class="carousel-control-next-icon" aria-hidden="true"></span>
        <span class="visually-hidden">Next</span>
    </button>
</div>

<!-- Why Choose Us -->
<section class="py-5">
    <div class="container py-5">
        <div class="row align-items-center g-5">
            <div class="col-lg-6">
                <div class="position-relative">
                    <img src="/images/why-choose-us.jpg" alt="Quality Tailoring" class="img-fluid rounded-4 shadow-lg" onerror="this.src='https://images.unsplash.com/photo-1598556776374-37d4d343e29c?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80'">
                    <div class="position-absolute bottom-0 start-0 m-4 p-4 bg-dark-glass rounded-3 border border-gold">
                        <h4 class="text-gold mb-1">100%</h4>
                        <p class="mb-0 text-white small">Satisfaction Guaranteed</p>
                    </div>
                </div>
            </div>
            <div class="col-lg-6">
                <h2 class="section-title display-5 mb-4">Why Choose Tafsilk?</h2>
                <p class="section-subtitle mb-5">Experience the difference of true craftsmanship and modern convenience.</p>
                
                <div class="d-flex mb-4">
                    <div class="flex-shrink-0">
                        <div class="feature-icon-wrapper">
                            <i class="fas fa-check-circle text-gold fs-4"></i>
                        </div>
                    </div>
                    <div class="ms-3">
                        <h4 class="h5 text-white">Verified Artisans</h4>
                        <p class="text-muted">Every tailor on our platform is vetted for quality, experience, and professionalism.</p>
                    </div>
                </div>
                
                <div class="d-flex mb-4">
                    <div class="flex-shrink-0">
                        <div class="feature-icon-wrapper">
                            <i class="fas fa-shield-alt text-gold fs-4"></i>
                        </div>
                    </div>
                    <div class="ms-3">
                        <h4 class="h5 text-white">Secure Payments</h4>
                        <p class="text-muted">Your transactions are protected with industry-standard security and escrow services.</p>
                    </div>
                </div>
                
                <div class="d-flex mb-4">
                    <div class="flex-shrink-0">
                        <div class="feature-icon-wrapper">
                            <i class="fas fa-clock text-gold fs-4"></i>
                        </div>
                    </div>
                    <div class="ms-3">
                        <h4 class="h5 text-white">Timely Delivery</h4>
                        <p class="text-muted">Track your order progress in real-time and get your garments delivered on schedule.</p>
                    </div>
                </div>
                
                <a href="@Url.Action("Index", "Tailors")" class="btn btn-outline-gold px-4 mt-2">Explore Tailors</a>
            </div>
        </div>
    </div>
</section>
</section>

<!-- Trust Indicators -->
<div class="trust-bar">
    <div class="container">
        <div class="row text-center g-4">
            <div class="col-md-4">
                <span class="trust-number" data-count="@Model.TrustedTailorsCount">@Model.TrustedTailorsCount</span>
                <span class="trust-label">Elite Tailors</span>
            </div>
            <div class="col-md-4">
                <span class="trust-number" data-count="@Model.CompletedOrdersCount">@Model.CompletedOrdersCount</span>
                <span class="trust-label">Masterpieces Created</span>
            </div>
            <div class="col-md-4">
                <span class="trust-number">@Model.AveragePlatformRating</span>
                <span class="trust-label">Average Rating</span>
            </div>
        </div>
    </div>
</div>

<!-- Featured Tailors -->
<section class="py-5">
    <div class="container py-5">
        <div class="text-center mb-5">
            <h2 class="section-title display-5">Featured Artisans</h2>
            <p class="section-subtitle">Top-rated professionals selected for their craftsmanship</p>
        </div>

        <div class="row g-4">
            @if (Model.FeaturedTailors.Any())
            {
                @foreach (var tailor in Model.FeaturedTailors)
                {
                    <div class="col-md-6 col-lg-3">
                        <div class="tailor-card">
                            <div class="tailor-image-wrapper">
                                @if (tailor.ProfilePictureData != null || !string.IsNullOrEmpty(tailor.ProfileImageUrl))
                                {
                                    <img src="@Url.Action("GetTailorProfilePicture", "Profiles", new { id = tailor.Id })" class="tailor-image" alt="@tailor.ShopName" loading="lazy">
                                }
                                else
                                {
                                    <img src="/images/default-tailor.png" class="tailor-image" alt="@tailor.ShopName" loading="lazy" onerror="this.src='/images/default-tailor.png'">
                                }
                                
                                <div class="rating-badge">
                                    <i class="fas fa-star"></i> @tailor.AverageRating.ToString("0.0")
                                </div>

                                <div class="tailor-overlay">
                                    <a href="@Url.Action("ViewPublicTailorProfile", "TailorPortfolio", new { area = "Tailor", id = tailor.Id })" class="btn btn-gold w-100 rounded-pill fw-bold">
                                        View Profile
                                    </a>
                                </div>
                            </div>
                            
                            <div class="tailor-info">
                                <h3 class="tailor-name">@tailor.ShopName</h3>
                                <div class="tailor-location">
                                    <i class="fas fa-map-marker-alt text-gold"></i> @tailor.City
                                </div>
                                <p class="text-muted small mb-0 text-truncate">@tailor.FullName</p>
                            </div>
                        </div>
                    </div>
                }
            }
            else
            {
                <div class="col-12 text-center py-5">
                    <p class="text-muted">No featured tailors available at the moment.</p>
                </div>
            }
        </div>

        <div class="text-center mt-5">
            <a href="@Url.Action("Index", "Tailors")" class="btn btn-outline-gold px-5">View All Tailors</a>
        </div>
    </div>
</section>

<!-- Trending Styles -->
<section class="py-5">
    <div class="container py-5">
        <div class="text-center mb-5">
            <h2 class="section-title display-5">Trending Styles</h2>
            <p class="section-subtitle">Discover the latest masterpieces from our artisans</p>
        </div>

        <div class="row g-4">
            @if (Model.TrendingProducts != null && Model.TrendingProducts.Any())
            {
                @foreach (var product in Model.TrendingProducts)
                {
                    <div class="col-md-6 col-lg-3">
                        <div class="product-card h-100">
                            <div class="position-relative overflow-hidden">
                                @if (product.PrimaryImageData != null)
                                {
                                    <img src="@Url.Action("GetProductImage", "Store", new { area = "Customer", id = product.ProductId })" class="product-image" alt="@product.Name">
                                }
                                else if (!string.IsNullOrEmpty(product.PrimaryImageUrl))
                                {
                                    <img src="@product.PrimaryImageUrl" class="product-image" alt="@product.Name">
                                }
                                else
                                {
                                    <img src="/images/default-product.png" class="product-image" alt="@product.Name" onerror="this.src='/images/default-product.png'">
                                }
                                <div class="position-absolute top-0 end-0 m-3">
                                    <span class="badge bg-gold text-dark fw-bold">
                                        @product.Price.ToString("C0")
                                    </span>
                                </div>
                            </div>
                            <div class="product-info">
                                <h3 class="text-white h5 mb-1">@product.Name</h3>
                                <p class="text-muted small mb-2">@product.Category</p>
                                <a href="@Url.Action("ProductDetails", "Store", new { area = "Customer", id = product.ProductId })" class="btn btn-outline-light w-100 rounded-pill btn-sm">View Details</a>
                            </div>
                        </div>
                    </div>
                }
            }
            else
            {
                <div class="col-12 text-center py-5">
                    <p class="text-muted">No trending styles available at the moment.</p>
                </div>
            }
        </div>
        
        <div class="text-center mt-5">
            <a href="@Url.Action("Index", "Store", new { area = "Customer" })" class="btn btn-gold px-5">Shop Collection</a>
        </div>
    </div>
</section>

<!-- Categories -->
<section class="py-5 bg-darker" style="background: #050914;">
    <div class="container py-5">
        <div class="text-center mb-5">
            <h2 class="section-title display-5">Curated Categories</h2>
            <p class="section-subtitle">Find the perfect specialist for your needs</p>
        </div>

        <div class="row g-4 justify-content-center">
            <div class="col-6 col-md-4 col-lg-2">
                <a href="@Url.Action("Index", "Tailors", new { category = "suits" })" class="category-card">
                    <i class="fas fa-user-tie category-icon"></i>
                    <h3 class="category-title">Suits</h3>
                </a>
            </div>
            <div class="col-6 col-md-4 col-lg-2">
                <a href="@Url.Action("Index", "Tailors", new { category = "dresses" })" class="category-card">
                    <i class="fas fa-female category-icon"></i>
                    <h3 class="category-title">Dresses</h3>
                </a>
            </div>
            <div class="col-6 col-md-4 col-lg-2">
                <a href="@Url.Action("Index", "Tailors", new { category = "abayas" })" class="category-card">
                    <i class="fas fa-user-secret category-icon"></i>
                    <h3 class="category-title">Abayas</h3>
                </a>
            </div>
            <div class="col-6 col-md-4 col-lg-2">
                <a href="@Url.Action("Index", "Tailors", new { category = "alterations" })" class="category-card">
                    <i class="fas fa-cut category-icon"></i>
                    <h3 class="category-title">Alterations</h3>
                </a>
            </div>
            <div class="col-6 col-md-4 col-lg-2">
                <a href="@Url.Action("Index", "Tailors", new { category = "wedding" })" class="category-card">
                    <i class="fas fa-ring category-icon"></i>
                    <h3 class="category-title">Wedding</h3>
                </a>
            </div>
        </div>
    </div>
</section>

<!-- Testimonials -->
<section class="testimonial-section py-5">
    <div class="container py-5">
        <div class="text-center mb-5 position-relative">
            <h2 class="section-title display-5">Happy Clients</h2>
            <p class="section-subtitle">Hear from those who experienced true elegance</p>
        </div>

        <div class="row g-4 position-relative">
            <div class="col-md-4">
                <div class="testimonial-card">
                    <p class="testimonial-text">"The attention to detail is unmatched. My wedding suit was perfect in every way. Highly recommended!"</p>
                    <div class="client-info">
                        <img src="https://ui-avatars.com/api/?name=Ahmed+Ali&background=D4AF37&color=000" alt="Client" class="client-avatar">
                        <div>
                            <h4 class="h6 text-white mb-0">Ahmed Ali</h4>
                            <small class="text-muted">Riyadh, SA</small>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-md-4">
                <div class="testimonial-card">
                    <p class="testimonial-text">"Tafsilk made it so easy to find a tailor who understands traditional designs with a modern twist."</p>
                    <div class="client-info">
                        <img src="https://ui-avatars.com/api/?name=Sarah+M&background=D4AF37&color=000" alt="Client" class="client-avatar">
                        <div>
                            <h4 class="h6 text-white mb-0">Sarah M.</h4>
                            <small class="text-muted">Jeddah, SA</small>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-md-4">
                <div class="testimonial-card">
                    <p class="testimonial-text">"Excellent service and timely delivery. The quality of the fabric and stitching is premium."</p>
                    <div class="client-info">
                        <img src="https://ui-avatars.com/api/?name=Fahad+K&background=D4AF37&color=000" alt="Client" class="client-avatar">
                        <div>
                            <h4 class="h6 text-white mb-0">Fahad K.</h4>
                            <small class="text-muted">Dammam, SA</small>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- CTA -->
<section class="py-5">
    <div class="container py-5">
        <div class="row justify-content-center">
            <div class="col-lg-10">
                <div class="p-5 rounded-4 text-center" style="background: linear-gradient(135deg, var(--gold-primary) 0%, var(--gold-dark) 100%); color: #000;">
                    <h2 class="display-5 fw-bold mb-3">Are you a Master Tailor?</h2>
                    <p class="lead mb-4 fw-medium">Join our exclusive network of professionals and grow your business with Tafsilk.</p>
                    <a href="@Url.Action("RequestRoleChange", "Account")" class="btn btn-dark btn-lg rounded-pill px-5 fw-bold">Join as a Tailor</a>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Newsletter -->
<section class="newsletter-section">
    <div class="container position-relative">
        <div class="row justify-content-center">
            <div class="col-md-8 text-center">
                <h2 class="section-title display-5 mb-4">Join the Elite</h2>
                <p class="text-white mb-5">Subscribe to receive exclusive offers, style tips, and early access to new collections.</p>
                <form class="newsletter-form d-flex gap-3 justify-content-center">
                    <input type="email" class="form-control w-50" placeholder="Enter your email address">
                    <button type="submit" class="btn btn-gold px-4">Subscribe</button>
                </form>
            </div>
        </div>
    </div>
</section>

@section Scripts {
    <script>
        // Animate numbers
        document.addEventListener("DOMContentLoaded", function () {
            const counters = document.querySelectorAll('.trust-number');
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        const target = entry.target;
                        const count = parseInt(target.getAttribute('data-count'));
                        if (count) {
                            animateValue(target, 0, count, 2000);
                            observer.unobserve(target);
                        }
                    }
                });
            }, { threshold: 0.5 });
            
            counters.forEach(counter => observer.observe(counter));
        });

        function animateValue(obj, start, end, duration) {
            let startTimestamp = null;
            const step = (timestamp) => {
                if (!startTimestamp) startTimestamp = timestamp;
                const progress = Math.min((timestamp - startTimestamp) / duration, 1);
                obj.innerHTML = Math.floor(progress * (end - start) + start) + (end > 100 ? '+' : '');
                if (progress < 1) {
                    window.requestAnimationFrame(step);
                }
            };
            window.requestAnimationFrame(step);
        }
    </script>
}
